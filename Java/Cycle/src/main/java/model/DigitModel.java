// Пакет модели — должен совпадать с папкой, где лежит файл.
package model;

// Класс модели — здесь вся логика.
public class DigitModel {

    /*
     Метод countDigits — считает количество цифр в натуральном числе (n >= 0).
     Например: 593 -> 3 цифры, 0 -> 1 цифра.
    */

    public int countDigits(int n) {
        // Особый случай: если число 0 — у него одна цифра
        if (n == 0) {
            return 1;
        }

        // Счётчик цифр — начинаем с нуля
        int count = 0;

        // Работает с копией числа, чтобы не изменять оригинал
        int temp = n;

        // Цикл: пока число больше 0 — отрезает по одной цифре справа
        while (temp > 0) {
            count++;           // Увеличивает счётчик цифр
            temp = temp / 10;  // Отрезает последнюю цифру (целочисленное деление)
        }

        // Возвращает итоговое количество цифр
        return count;
    }

    /*
    Метод generateReport — генерирует текстовый отчёт о вычислении.
    Отчёт включает входное число, пошаговое вычисление и итог.
    */

    public String generateReport(int n) {
        // StringBuilder — эффективный способ собирать строки по частям
        StringBuilder report = new StringBuilder();

        // Добавляет заголовок отчёта и входное число
        report.append("Входное число: ").append(n).append("\n");
        report.append("──────────────────\n"); // Разделитель для наглядности

        // Особый случай: если число 0
        if (n == 0) {
            report.append("💡 Число 0 -> 1 цифра.\n");
            report.append("──────────────────\n");
            report.append("Итог: 1 цифра\n");
            // Возвращает готовый отчёт
            return report.toString();
        }

        // Готовится к пошаговому вычислению
        int temp = n;  // Копия числа для обработки
        int step = 0;  // Номер шага

        report.append("Пошаговое вычисление:\n");

        // Цикл: пока число больше 0 — отрезает цифры и записывает шаги
        while (temp > 0) {
            step++;                    // Увеличивает номер шага
            int digit = temp % 10;     // Получает последнюю цифру (остаток от деления на 10)
            temp = temp / 10;          // Отрезает последнюю цифру (целочисленное деление)

            // Добавляет информацию о шаге в отчёт
            report.append("-> Шаг ").append(step)
                    .append(": убрали цифру '").append(digit)
                    .append("', осталось: ").append(temp).append("\n");
        }

        // Добавляет итоговый результат в отчёт
        report.append("──────────────────\n");
        report.append("Итог: ").append(step).append(" цифр\n");

        // Возвращает полный отчёт как строку
        return report.toString();
    }
}