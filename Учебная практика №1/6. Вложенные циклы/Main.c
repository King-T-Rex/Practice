/*
Автор: Кузнецов Александр

Программа находит пересечение двух последовательностей:
a1,...,a25 и b1,...,bn.

Условия:
1. Среди a1,...,a25 нет повторяющихся чисел.
2. Среди b1,...,bn нет повторяющихся чисел.
3. Используется вложенный цикл для проверки пересечения.
*/

#include <stdio.h>      // Для функций ввода/вывода: printf, scanf
#include <locale.h>     // Для функции setlocale — настройка русского языка
#include <windows.h>    // Для SetConsoleCP — настройка кодировки консоли в Windows

int main() {
    // Настраивает локаль для корректного отображения русского текста
    setlocale(LC_ALL, ".UTF-8");     // Устанавливает локаль для всей программы
    SetConsoleCP(CP_UTF8);           // Устанавливает кодировку ввода консоли в UTF-8
    SetConsoleOutputCP(CP_UTF8);     // Устанавливает кодировку вывода консоли в UTF-8

    int a[25];        // Массив для последовательности a1...a25
    int b[100];       // Массив для последовательности b1...bn (максимум 100 элементов)
    int n;            // Длина последовательности b

    // Просит пользователя ввести длину последовательности b
    printf("Введите натуральное число n (n <= 100): ");
    scanf("%d", &n);

    // Проверка, что введено корректное число
    if (n <= 0 || n > 100) {
        printf("Ошибка: n должно быть от 1 до 100\n");
        return 1; // Завершение программы с ошибкой
    }

    // Ввод последовательности a из 25 уникальных чисел
    printf("Введите 25 различных целых чисел (последовательность a):\n");
    for (int i = 0; i < 25; i++) {
        // Ввод числа и запись его в массив a
        printf("a[%d] = ", i + 1);
        scanf("%d", &a[i]);
    }

    // Ввод последовательности b из n уникальных чисел
    printf("Введите %d различных целых чисел (последовательность b):\n", n);
    for (int i = 0; i < n; i++) {
        // Ввод числа и запись его в массив b
        printf("b[%d] = ", i + 1);
        scanf("%d", &b[i]);
    }

    // Выводит сообщение о начале пересечения
    printf("\nЭлементы пересечения последовательностей a и b:\n");

    /*
    Вложенный цикл для поиска пересечения:
    - Внешний цикл: перебирает каждый элемент последовательности b
    - Внутренний цикл: ищет текущий элемент b[i] в последовательности a
    */
    for (int i = 0; i < n; i++) {      // Проходит по всем элементам b
        int found = 0;                  // Флаг, нашли ли текущий элемент в a

        // Внутренний цикл: проверяет каждый элемент a
        for (int j = 0; j < 25; j++) {
            if (b[i] == a[j]) {        // Сравнивает b[i] с a[j]
                found = 1;             // Элемент найден
                break;                 // Прерывает внутренний цикл, элемент найден
            }
        }

        // Если элемент найден в a, выводим его
        if (found) {
            printf("%d ", b[i]);
        }
        // Если элемент не найден — ничего не делает (он не входит в пересечение)
    }

    // Переход на новую строку после вывода всех элементов пересечения
    printf("\n");

    // Завершение программы успешно
    return 0;
}
