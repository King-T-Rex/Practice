/*
Автор: Кузнецов Александр

Программа определяет текущее время (часы и минуты) по углу часовой стрелки,
а также рассчитывает угол минутной стрелки относительно отметки "12 часов".
Формулы и подход:
    - Угол часовой стрелки ф ? (0, 2?]
    - За 1 час стрелка поворачивается на ?/6 радиан
    - Положение часовой стрелки позволяет вычислить количество полных часов и минут
    - Минутная стрелка движется равномерно: за 60 мин = 2? радиан
*/

#define _USE_MATH_DEFINES       // Добавляет этот макрос для использования M_PI

#include <stdio.h>     // Для ввода/вывода
#include <math.h>      // Математические функции: M_PI, fmod, fabs
#include <locale.h>    // Для поддержки локализации
#include <windows.h>     // Подключает для SetConsoleCP — настройка кодировки консоли Windows

/*
Точка входа программы.

Основные этапы работы программы:
    1. Настройка локали для поддержки кириллицы
    2. Получение угла ? от пользователя
    3. Проверка диапазона угла (0 < ? <= 2*M_PI)
    4. Перевод угла в формат времени: часы и минуты
    5. Расчёт угла минутной стрелки
    6. Вывод результатов
*/

int main() {
    // Настройка локали и кодировки консоли для корректного отображения русского текста
    setlocale(LC_ALL, ".UTF-8");
    SetConsoleCP(CP_UTF8);           // Кодировка ввода
    SetConsoleOutputCP(CP_UTF8);     // Кодировка вывода

    double phi; // Угол часовой стрелки в радианах
    double phi_numder = 2 * M_PI;


    // Ввод угла от пользователя
    printf("Введите угол ф (в радианах, 0 < ф <= 2 * PI):\n");
    printf("2 * M_PI = %.4f\n", phi_numder);
    scanf("%lf", &phi);

    // Проверка корректности введённого значения
    if (phi <= 0 || phi > 2 * M_PI) {
        printf("Ошибка: угол должен быть в интервале (0, 2 * PI].\n");
        return 1;
    }

    // Перевод угла в общее количество часов (с дробной частью)
    double total_hours = phi / (M_PI / 6); // Каждый час = ?/6 радиан

    // Извлечение целых часов
    int hours = (int)total_hours;

    // Вычисление остатка — дробной части часа -> перевод в минуты
    double fractional_hour = total_hours - hours;
    int minutes = (int)(fractional_hour * 60);

    // Расчёт угла минутной стрелки
    double phi_minute = (minutes % 60) * (2 * M_PI / 60);

    // Вывод результатов
    printf("\nРезультаты:\n");
    printf("Текущее время: %d часов %d минут\n", hours, minutes);
    printf("Угол минутной стрелки: %.4f радиан\n", phi_minute);

    return 0;
}