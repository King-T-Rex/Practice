/*
Автор: Кузнецов Александр

Назначение программы:
Для заданной матрицы размера n x m найти числа b1...bm, равные наименьшим значениям элементов соответствующих строк.
*/

#include <stdio.h>  // Для работы с вводом/выводом
#include <stdlib.h> // Для генерации случайных чисел
#include <locale.h> // Для поддержки русского языка
#include <time.h>   // Для получения текущего времени
#include <windows.h>     // Подключает для SetConsoleCP — настройка кодировки консоли Windows

/*
Точка входа в программу
Основная функция:
    - Устанавливает локаль для корректного отображения русского языка
    - Инициализирует генератор случайных чисел
    - Запрашивает у пользователя размер матрицы
    - Проверяет корректность ввода
    - Заполняет матрицу случайными числами
    - Находит минимальные элементы по строкам
    - Выводит результаты
*/

int main() {
    // Настройка локали и кодировки консоли для корректного отображения русского текста
    setlocale(LC_ALL, ".UTF-8");
    SetConsoleCP(CP_UTF8);           // Кодировка ввода
    SetConsoleOutputCP(CP_UTF8);     // Кодировка вывода

    // Инициализация генератора случайных чисел текущим временем в секундах
    srand(time(NULL));

    // Константы: максимальные размеры матрицы
    const unsigned N = 10; // Максимальное количество строк
    const unsigned M = 10; // Максимальное количество столбцов

    // Матрица и массив для хранения минимумов строк
    float matrix[N][M]; // Двумерный массив
    float b[N];         // Массив минимальных значений по строкам

    // Переменные для реальных размеров матрицы
    unsigned n, m;

    // Запрос у пользователя количества строк и столбцов
    printf("Введите количество строк (n <= %d): ", N);
    scanf("%u", &n);

    printf("Введите количество столбцов (m <= %d): ", M);
    scanf("%u", &m);

    // Проверка корректности ввода
    if (n <= 0 || m <= 0 || n > N || m > M) {
        printf("Ошибка: неверные размеры матрицы.\n");
        return 1;
    }

    // Заполнение матрицы случайными числами от -100 до 100 включительно
    for (unsigned i = 0; i < n; ++i) {
        for (unsigned j = 0; j < m; ++j) {
            matrix[i][j] = 1.0 * rand() / RAND_MAX * 20 - 10; // от -10 до 10
        }
    }

    // Вывод исходной матрицы
    printf("\nСгенерированная матрица:\n");
    for (unsigned i = 0; i < n; ++i) {          // Цикл по строкам
        for (unsigned j = 0; j < m; ++j) {      // Цикл по столбцам
            printf("%6.2f", matrix[i][j]);
        }
        printf("\n");                          
    }

    // Поиск минимальных элементов в строках
    for (unsigned i = 0; i < n; ++i) {
        float min = matrix[i][0]; // Начальное значение — первый элемент строки

        for (unsigned j = 1; j < m; ++j) {
            if (matrix[i][j] < min) {
                min = matrix[i][j]; // Обновляет минимум, если найдено меньшее число
            }
        }

        b[i] = min; // Сохраняет минимальное значение для текущей строки
    }

    // Вывод результатов
    printf("\nМинимальные элементы строк (b1...bn):\n");
    for (unsigned i = 0; i < n; ++i) {
        printf("b[%u] = %.2f\n", i + 1, b[i]);
    }

    return 0;

}