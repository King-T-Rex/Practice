/*
Автор: Кузнецов Александр

Программа вычисляет значения выражений a и b по заданным формулам.
В программе реализовано:
    - Введение данных с клавиатуры (x, y, z)
    - Вычисление двух математических выражений:
        1. a = [sqrt(|x-1|) - cbrt(|y|)] / [1 + x^2/2 + y^2/4]
        2. b = x * (arctan(z) + e^-(x+3))
    - Проверка деления на ноль при вычислении a
*/

#include <stdio.h>     // Стандартная библиотека ввода/вывода
#include <math.h>      // Библиотека математических функций 
#include <locale.h>    // Для поддержки локализации
#include <windows.h>     // Подключает для SetConsoleCP — настройка кодировки консоли Windows


/*
Точка входа программы.
Основная функция выполняет следующие действия:
    - Устанавливает локаль для корректного отображения кириллицы
    - Запрашивает у пользователя значения переменных x, y, z
    - Вычисляет значения a и b по заданным формулам
    - Контролирует возможное деление на ноль
    - Выводит результаты вычисления
    - Возвращает 0 при успешном завершении программы
*/

int main() {
    // Настройка локали и кодировки консоли для корректного отображения русского текста
    setlocale(LC_ALL, ".UTF-8");
    SetConsoleCP(CP_UTF8);           // Кодировка ввода
    SetConsoleOutputCP(CP_UTF8);     // Кодировка вывода

    // Объявление переменных
    double x; // Входная переменная x
    double y; // Входная переменная y
    double z; // Входная переменная z
    double a; // Результат вычисления первого выражения
    double b; // Результат вычисления второго выражения


    // Ввод данных от пользователя
    printf("Введите значение x: ");
    scanf("%lf", &x);

    printf("Введите значение y: ");
    scanf("%lf", &y);

    printf("Введите значение z: ");
    scanf("%lf", &z);


    // Вычисление выражения a

    /*
    Вычисляет числитель и знаменатель дроби a:
    numerator_a = sqrt(|x - 1|) - cbrt(|y|)
    denominator_a = 1 + x^2/2 + y^2/4
    */

    double numerator_a = sqrt(fabs(x - 1)) - cbrt(fabs(y));       // Числитель
    double denominator_a = 1 + (pow(x, 2) / 2) + (pow(y, 2) / 4); // Знаменатель

    if (denominator_a == 0) {
        printf("Ошибка: знаменатель равен нулю при вычислении a.\n");
        return 1;
    }

    a = numerator_a / denominator_a;


    // Вычисление выражения b

    double arctan_z = atan(z);         // Вычисление arctan(z)
    double exp_term = exp(-(x + 3));   // Вычисление экспоненты e^-(x+3)
    b = x * (arctan_z + exp_term);     // Вычисление b


    // Вывод результатов
    printf("Результаты:\n");
    printf("a = %.6f\n", a);
    printf("b = %.6f\n", b);


    return 0;
}