/*
Автор: Кузнецов Александр

Программа преобразует последовательность символов s1, s2,..., sn,
предшествующих первому пробелу, удаляя из неё все символы,
не являющиеся буквами.

Условия:
    - s1 отличен от пробела
    - среди s2, s3,... есть хотя бы один пробел
    - n заранее неизвестно (n < 256)
*/

#include <stdio.h>     // Для работы с вводом/выводом
#include <ctype.h>     // Для проверки символов (isalpha)
#include <string.h>    // Для работы со строками (поиск пробела)
#include <locale.h>    // Для поддержки русского языка
#include <windows.h>     // Подключает для SetConsoleCP — настройка кодировки консоли Windows

int main() {
    // Настройка локали и кодировки консоли для корректного отображения русского текста
    setlocale(LC_ALL, ".UTF-8");
    SetConsoleCP(CP_UTF8);           // Кодировка ввода
    SetConsoleOutputCP(CP_UTF8);     // Кодировка вывода

    const int max_length = 255; // Максимальная длина строки

    // Буферы для строк
    char input[max_length + 1];   // Входная строка
    char output[max_length + 1];  // Результат

    // Ввод строки пользователем
    printf("Введите строку. Первый символ не должен быть пробелом,\n");
    printf("первый пробел завершает обработку:\n");
    fgets(input, sizeof(input), stdin); // Безопасное чтение строки

    // Поиск первого пробела
    int space_pos = -1;
    for (int i = 0; i < sizeof(input) && input[i] != '\0'; ++i) {
        if (input[i] == ' ') {
            space_pos = i;
            break;
        }
    }

    // Если пробел не найден, то обрабатываем всю строку
    if (space_pos == -1) {
        space_pos = strlen(input);
    }

    // Обнуляем индекс результата и начинаем фильтрацию
    int j = 0;

    // Обработка символов до первого пробела
    for (int i = 0; i < space_pos; ++i) {
        if (isalpha((unsigned char)input[i])) { // Проверяем, является ли символ буквой
            //Фукнция Альфа передана букву, то фукнция вернет истину, то если не буквы, то функция вернет ложь
            output[j++] = input[i]; // копируем только буквы
        }
    }

    output[j] = '\0'; // завершаем результирующую строку

    // Вывод результата
    printf("\nРезультат (только буквы до первого пробела):\n");
    printf("%s\n", output);

    return 0;
}